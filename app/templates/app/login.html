{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Custom CSS -->
        <title>Đăng nhập & Đăng ký</title>
   	 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            color: #333;
            padding: 5px;
        }
        .nav-link {
          padding: 10px 15px;
          border-radius: 8px; /* Bo góc giống nút */
          transition: all 0.3s ease-in-out; /* Hiệu ứng mượt */
      }
      
      /* Khi nhấn vào, nút đổi màu */
      .nav-link.active {
          background-color: #45a049; /* Màu xanh lá */
          color: white !important;
          font-weight: bold;
          border: 2px solid #45a049;
          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
      }
      .nav-link:hover {
                  
          background-color:  #4CAF50; 
          border-radius: 8px;
          
      }
        .auth-container {
            width: 400px;
            margin: 50px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            background-color: #fff;
        }

        .tabs {
    		display: flex;
    		justify-content: space-around;
    		margin-bottom: 20px;
	}

	.tab-button {
    		padding: 12px;
    		cursor: pointer;
    		font-weight: bold;
    		border: none;
    		background: #f5f5f5;
    		border-radius: 8px;
    		width: 50%;
    		text-align: center;
    		transition: background-color 0.3s ease;
	}

	.tab-button.active {
    		background: #218838;
    		color: white;
	}

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-control {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .btn-primary {
    width: 100%;
    padding: 14px;
    background-color: #218838;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.btn-primary:hover {
    background-color: #19672c;
}
        .footer {
        position: relative;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgb(40, 126, 98);
        color: white;
        padding: 15px 0;
        text-align: center;
        font-size: 16px;
        border-top: 2px solid #fff;
    } 
        .footer h4 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
        }
        
        .footer ul {
            list-style: none;
            padding: 0;
        }
        
        .footer ul li{
            text-decoration: none;
            list-style-type: none;
            }
        
        .footer ul li a {
            color: #d1d1d1;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .footer ul li a:hover {
            text-decoration: none;
          color: rgb(246, 160, 171);
          }
        
        .footer .care {
            color:rgb(218, 119, 27); /* Màu nhấn đặc biệt */
        }
    </style>
</head>
<body>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <nav class="navbar navbar-expand-lg bg-light">
                <div class="container-fluid">
                    <span class="navbar-brand">
                        <a href="{% url 'home_NV' %}">
                            <img src="{% static 'Nhanvien/images/logo.png'%}" width="50" height="50" alt="Logo">
                    </span>
                </div>
            </nav>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" 
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'booking' %}active{% endif %}" 
                           href="{% url 'booking' %}">Quản lý Booking</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'pet' %}active{% endif %}" 
                           href="{% url 'pet' %}">Quản lý Thú cưng</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'schedule' %}active{% endif %}" 
                           href="{% url 'schedule' %}">Sắp lịch bác sĩ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'room' %}active{% endif %}" 
                           href="{% url 'room' %}">Quản lý Chuồng</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="container mt-4">
        <h1 class="text-center">Chào mừng đến với Web chăm sóc thú cưng</h1>
        <p class="text-center">Trang đăng nhập/ đăng ký (xin vui lòng điền đầy đủ thông tin):</p>
    <div class="auth-container">
        <!-- Tab để chọn Đăng Nhập hoặc Đăng Ký -->
        <div class="tabs">
            <button class="tab-button active" onclick="showForm('loginForm')">Đăng Nhập</button>
            <button class="tab-button" onclick="showForm('registerForm')">Đăng Ký</button>
        </div>

        <!-- Form Đăng Nhập -->
        <form id="loginForm" class="auth-form active" action="/login" method="POST">
            <h2>Đăng Nhập</h2>
            <div class="form-group">
                <label for="loginRole">Chọn vai trò:</label>
                <select id="loginRole" class="form-control" required>
                    <option value="admin">Admin</option>
                    <option value="nhanvien">Nhân viên</option>
                    <option value="bacsi">Bác sĩ</option>
                    <option value="khachhang">Khách hàng</option>
                </select>
            </div>
            <div class="form-group">
                <label for="loginEmail">Email:</label>
                <input type="email" id="loginEmail" name="email" class="form-control" placeholder="Nhập email" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Mật khẩu:</label>
                <input type="password" id="loginPassword" name="password" class="form-control" placeholder="Nhập mật khẩu" required>
            </div>
            <button type="submit" class="btn-primary">Đăng Nhập</button>
		<div class="toggle-link">
          Chưa có tài khoản? <a id="showRegister">Đăng ký ngay</a>
        </div>
        </form>

        <!-- Form Đăng Ký -->
        <form id="registerForm" class="auth-form" action="/login" method="POST">
            <h2>Đăng Ký</h2>
            <div class="form-group">
                <label for="registerEmail">Email:</label>
                <input type="email" id="registerEmail" name="email" class="form-control" placeholder="Nhập email" required>
            </div>
            <div class="form-group">
                <label for="registerPassword">Mật khẩu:</label>
                <input type="password" id="registerPassword" name="password" class="form-control" placeholder="Nhập mật khẩu" required>
            </div>
            <div class="form-group">
                <label for="registerConfirmPassword">Nhập lại mật khẩu:</label>
                <input type="password" id="registerConfirmPassword" name="confirm_password" class="form-control" placeholder="Nhập lại mật khẩu" required>
            </div>
            <button type="submit" class="btn-primary">Đăng Ký</button>
	<div class="toggle-link">
          Đã có tài khoản? <a id="showLogin">Đăng nhập ngay</a>
        </div>
        </form>
    </div>

</main>

    <script>
        function showForm(formId) {
            // Ẩn tất cả các form
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.remove('active');
            });

            // Bỏ trạng thái active cho tất cả các tab
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.classList.remove('active');
            });

            // Hiển thị form được chọn
            document.getElementById(formId).classList.add('active');

            // Đánh dấu tab active
            event.target.classList.add('active');
        }
        window.onload = function () {
            const hash = window.location.hash;
            if (hash === "#registerForm") {
                showForm('registerForm');
            } else {
                showForm('loginForm');
            }
        };
        function handleLogin() {
            const role = document.getElementById("loginRole").value;
            let redirectURL = "";
    
            switch (role) {
                case "admin":
                    redirectURL = "/admin";
                    break;
                case "nhanvien":
                    redirectURL = "/Nhanvien";
                    break;
                case "bacsi":
                    redirectURL = "/doctor_dashboard";
                    break;
                case "khachhang":
                    redirectURL = "/customer_dashboard";
                    break;
                default:
                    alert("Vui lòng chọn vai trò hợp lệ!");
                    return;
            }
    
            window.location.href = redirectURL;
        }
    </script>
    <footer class="footer">
        <div class="container-fluid col-10">
          <div class="row pt-3 pb-3">
            <div class="col-md-4 care">
              <h4>Đánh Giá Của Khách Hàng</h4>
              <ul>
                <li><a href="#">Nhấn Vào Để Xem</a></li>
              </ul>
            </div>
            <div class="col-md-4">
              <h4 class="care">Pet Care</h4>
              <ul>
                <li>Phone: 0889969020</li>
                <li>Maps: 25 Tô Ký - Tân Chánh Hiệp - Quận 12</li>
                <li>Social:</li>
              </ul>
            </div>
            <div class="col-md-4">
              <h4>Hỗ Trợ Khách Hàng</h4>
              <ul>
                <li><a href="#">Chính Sách Mua Hàng</a></li>
                <li><a href="#">Điều Khoản Dịch Vụ</a></li>
                <li><a href="#">Hình Thức Thanh Toán</a></li>
              </ul>
            </div>
          </div>
        </div>
      </footer>  
</body>
</html>